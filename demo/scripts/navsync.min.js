/*
 *  navsync - v0.0.3
 *  Sync navigation menus to page anchors
 *  https://github.com/rp4rk/navsync
 *
 *  Made by Ryan Park
 *  Under MIT License
 */
!function(a,b){"use strict";function c(b,c){this.element=b,this.settings=a.extend({},e,c),this._defaults=e,this._name=d,this.init()}var d="navSync",e={highlightClass:"navsync-menu-highlight",ignoreNavHeightHighlight:!1,ignoreNavHeightScroll:!1,disableDynamicPosition:!0,animationTime:500};a.extend(c.prototype,{init:function(){console.log(this.settings);var c=a(this.element),d=this.settings.animationTime?this.settings.animationTime:this._defaults.animationTime,e=this.settings.ignoreNavHeightHighlight?0:c.height(),f=this.settings.ignoreNavHeightScroll?0:c.height(),g=this.settings.disableDynamicPosition?!0:!1,h=this.settings.highlightClass?this.settings.highlightClass:this._defaults.highlightClass,i=[];c.find("a").each(function(){var b=a(this).attr("href");if("#"===b.charAt(0)){var c=a(a(this).attr("href"));i.push([c,c.offset().top,c.offset().top+c.outerHeight(!0),this])}}).click(function(b){var c=a(this).attr("href");"#"===c.charAt(0)&&(b.preventDefault(),a("html, body").animate({scrollTop:a(a(this).attr("href")).offset().top-f+6},d))}),a(i[0][3]).addClass(h),a(b).scroll(function(){b.requestAnimationFrame(function(){var c=a(b).scrollTop(),d=0,f=0;if(g)for(f=0;f<i.length;f++)i[f][1]=i[f][0].offset().top,i[f][2]=i[f][0].offset().top+i[f][0].outerHeight(!0);for(d=0;d<i.length;d++)c<i[d][2]-e&&c+e>=i[d][1]?a(i[d][3]).addClass(h):a(i[d][3]).removeClass(h)})})}}),a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new c(this,b))})}}(jQuery,window,document);